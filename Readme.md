# Project Information
- Test machine : csel-kh4250-22
- Date : 10/07/2020
- Name : Rezkath Awal, Babacar Diouf, Huan Kim Tran
- X500 : awalx003, diouf006, tran0966

## Program purpose
- The purpose of this program is to run word frequency analysis on a given input file.

## Program testing and compilation

### Important files/directories
- src     : This is where all the source code made by our team stored
- test    : This is where all the test case should be in
- testing : When you run unit and integration test, this folder will be generated. This is the temporary storage for the testing script, feel free to delete if neccessary
- Makefile: This makefile has been modified to be able to run unit and integration test, please do not remove or replace

### Program compiliation
- Change directory to the root folder of this project where this Readme.md file are at
- Run make all
- The resulted binary files (mapper, ruducer and mapreduce) which were generated by compiling the source file in src folder will be saved in the root folder of this project where this Readme.md file are at 

### Program unit/integration test
- Save all the test cases (make sure they have *.txt extension) to the test folder
- Change the current directory to the root folder of this project where this Readme.md are at
- Unit tests:
    - To test mapper run: make -s test_mapper
    - To test reducer run: make -s test_reducer
    - To test mapreduce run: make -s test_mapreduce
- Integration test:
    - Run integration test by running: make -s test_integration

### How does the testing suite work
- The test suite was made with the intention to measure how closely each executable file resembles their solution version.
- The unit test works by, first compile the executable user want to test (mapper, reducer or mapreduce) from the code, then place the generated executable among the colution version of other executable. For example, if user tries to test mapper, the test suite compiles the mapper code and generates the mapper executable, then it places this mapper executable among provided solutions of mapreduce and reducers. Then, the test suite run each test case in the test folder through these 3 executables. The test suite also runs the test case through the provided solution, then compare the result generated by the test program and the solution program.
The test program passes the test case only if the generated results match the one generated by the solution exactly.
- The integration test works by compiling all 3 executables (mapper, reducer, mapreduce) from the code, then run test case through them and compare with the result
generated by the solution 

## What does the program do
- The program firstly generates a pool of mapper processes with the number of mappers given from the command line
- Then it breaks the content of the input file into chunks and send the chunks one by one to each mapper process to analyze the words
- When one mapper finishes analyzing its chunk, the mapreduce sends another chunk to the mapper to process until there is no chunk left
- The mapreduce will wait until all the chunks have been analyzed and the all the mapper processes to finish, then mapreduce process will create a pool of reducer processes with the number of reducers given from the the command line
- The mapreduce, then send contents generated by mappers to each reducer to process. The rule is all the files that contains information about one word will be sent to the same reducers.
- Each reducer counts the number of 1 inside each file sent to them and record the word frequency accordingly
- The mapreduce will wait for all the reducers to finish, then terminates

## Additional assumption
- We assume that when the input file is an empty file, our program recognizes this so mapper and reducer won't generate any output file
- We assume the number of mapper > 1  and the reducer >= 1, otherwise the program will announce errors

## Team member contribution
- mapreduce.c:
    - Code skeleton was drafted by Babacar Diouf
    - Code reviwed, debuged by all team members
- reducer.c:
    - Code skeleton was drafted by Rezkath Awal
    - Code reviwed, debuged by all team members
- mapper.c
    - Code skeleton was drafted by Huan Tran
    - Code reviwed, debuged by all team members
- Testing framework with Makefile
    - Implemented by Huan Tran